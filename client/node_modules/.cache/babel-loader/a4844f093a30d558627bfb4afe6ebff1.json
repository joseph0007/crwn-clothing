{"ast":null,"code":"import _defineProperty from\"C:/React/crwn-clothing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"C:/React/crwn-clothing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/React/crwn-clothing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/React/crwn-clothing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/React/crwn-clothing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/React/crwn-clothing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/React/crwn-clothing/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React from\"react\";import FormInput from\"../formInput/formInput.component\";import CustomButton from\"../customButton/customButton.component\";import{auth,createUserDocDB}from\"../../utils/firebase/firebase.utils\";import\"./signup.styles.scss\";var SignUp=/*#__PURE__*/function(_React$Component){_inherits(SignUp,_React$Component);var _super=_createSuper(SignUp);function SignUp(props){var _this;_classCallCheck(this,SignUp);_this=_super.call(this,props);_this.handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var _this$state,name,email,password,confirmPassword,userObj,user;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_this$state=_this.state,name=_this$state.name,email=_this$state.email,password=_this$state.password,confirmPassword=_this$state.confirmPassword;// check for password correction\nif(!(password!==confirmPassword)){_context.next=4;break;}return _context.abrupt(\"return\",alert(\"password and confirm paswword dont match!!\"));case 4:_context.prev=4;_context.next=7;return auth.createUserWithEmailAndPassword(email,password);case 7:userObj=_context.sent;user=userObj.user;// the reason why we create a document over here and not let the onAuthStateChange method take care of it is because\n// we want to set the displayName property which is by default set to null in the \"user\" object!!!\n_context.next=11;return createUserDocDB(user,{displayName:name});case 11:_this.setState({name:\"\",email:\"\",password:\"\",confirmPassword:\"\"});_context.next=17;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](4);console.log(\"error creating the new user\",_context.t0);case 17:case\"end\":return _context.stop();}}},_callee,null,[[4,14]]);}));return function(_x){return _ref.apply(this,arguments);};}();_this.handleChange=function(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;_this.setState(_defineProperty({},name,value));};_this.state={name:\"\",email:\"\",password:\"\",confirmPassword:\"\"};return _this;}_createClass(SignUp,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"sign-up\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"title\",children:\"I dont have an account\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Sign up with your email and password\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsx(FormInput,{handleChange:this.handleChange,label:\"name\",name:\"name\",value:this.state.name,type:\"text\",id:\"name-2\",required:true}),/*#__PURE__*/_jsx(FormInput,{label:\"email\",name:\"email\",type:\"email\",handleChange:this.handleChange,value:this.state.email,id:\"email-2\",required:true}),/*#__PURE__*/_jsx(FormInput,{label:\"password\",name:\"password\",type:\"password\",handleChange:this.handleChange,value:this.state.password,id:\"password-2\",required:true}),/*#__PURE__*/_jsx(FormInput,{label:\"confirm password\",name:\"confirmPassword\",type:\"password\",handleChange:this.handleChange,value:this.state.confirmPassword,id:\"confirmPassword-2\",required:true}),/*#__PURE__*/_jsx(CustomButton,{children:\"Sign Up\"})]})]});}}]);return SignUp;}(React.Component);export default SignUp;","map":{"version":3,"sources":["C:/React/crwn-clothing/src/components/signUp/signup.component.jsx"],"names":["React","FormInput","CustomButton","auth","createUserDocDB","SignUp","props","handleSubmit","e","preventDefault","state","name","email","password","confirmPassword","alert","createUserWithEmailAndPassword","userObj","user","displayName","setState","console","log","handleChange","target","value","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport FormInput from \"../formInput/formInput.component\";\r\nimport CustomButton from \"../customButton/customButton.component\";\r\nimport { auth, createUserDocDB } from \"../../utils/firebase/firebase.utils\";\r\n\r\nimport \"./signup.styles.scss\";\r\n\r\nclass SignUp extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      name: \"\",\r\n      email: \"\",\r\n      password: \"\",\r\n      confirmPassword: \"\",\r\n    };\r\n  }\r\n\r\n  handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const { name, email, password, confirmPassword } = this.state;\r\n\r\n    // check for password correction\r\n    if (password !== confirmPassword) {\r\n      return alert(\"password and confirm paswword dont match!!\");\r\n    }\r\n\r\n    try {\r\n      // use firebase method to create a new user with email and password\r\n      const userObj = await auth.createUserWithEmailAndPassword(\r\n        email,\r\n        password\r\n      );\r\n\r\n      const { user } = userObj;\r\n\r\n      // the reason why we create a document over here and not let the onAuthStateChange method take care of it is because\r\n      // we want to set the displayName property which is by default set to null in the \"user\" object!!!\r\n      await createUserDocDB(user, { displayName: name });\r\n\r\n      this.setState({\r\n        name: \"\",\r\n        email: \"\",\r\n        password: \"\",\r\n        confirmPassword: \"\",\r\n      });\r\n    } catch (error) {\r\n      console.log(\"error creating the new user\", error);\r\n    }\r\n  };\r\n\r\n  handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"sign-up\">\r\n        <h2 className=\"title\">I dont have an account</h2>\r\n        <span>Sign up with your email and password</span>\r\n\r\n        <form onSubmit={this.handleSubmit}>\r\n          <FormInput\r\n            handleChange={this.handleChange}\r\n            label=\"name\"\r\n            name=\"name\"\r\n            value={this.state.name}\r\n            type=\"text\"\r\n            id=\"name-2\"\r\n            required\r\n          />\r\n          <FormInput\r\n            label=\"email\"\r\n            name=\"email\"\r\n            type=\"email\"\r\n            handleChange={this.handleChange}\r\n            value={this.state.email}\r\n            id=\"email-2\"\r\n            required\r\n          />\r\n          <FormInput\r\n            label=\"password\"\r\n            name=\"password\"\r\n            type=\"password\"\r\n            handleChange={this.handleChange}\r\n            value={this.state.password}\r\n            id=\"password-2\"\r\n            required\r\n          />\r\n          <FormInput\r\n            label=\"confirm password\"\r\n            name=\"confirmPassword\"\r\n            type=\"password\"\r\n            handleChange={this.handleChange}\r\n            value={this.state.confirmPassword}\r\n            id=\"confirmPassword-2\"\r\n            required\r\n          />\r\n\r\n          <CustomButton>Sign Up</CustomButton>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SignUp;\r\n"]},"metadata":{},"sourceType":"module"}